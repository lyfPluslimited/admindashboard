<div>
  <div class="d-flex row justify-content-start mb-3">
    <!-- Page Heading -->
    <h1 class="h3 mb-2 text-gray-800">Specialization</h1>

    <button class="btn btn-primary btn-sm ml-3" (click)="openAddSpecModal(addSpec)">Add Specialization</button>
  </div>

  <!-- DataTales Example -->
  <div class="card shadow mb-4">
    <div class="card-body">
      <div class="table-responsive">
        <table
          datatable
          [dtOptions]="dtOptions"
          [dtTrigger]="dtTrigger"
          class="row-border hover"
        >
          <thead>
            <tr>
              <th>Specialization Name</th>
              <th>Icon</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let specialization of specializations">
              <td>{{ specialization.specializationName }}</td>
              <td>
                <img
                  src="{{ specialization.specializationIcon }}"
                  style="max-width: 100px"
                />
              </td>
              <td>
                <a class="nav-link" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"
                    ><i class="fas fa-ellipsis-v"></i></a>

                    <div class="dropdown-menu">
                      <a class="dropdown-item" style="cursor: pointer" 
                          (click)="openUpdateSpecModal(updateSpec, specialization)">
                        Edit
                      </a>
                      <a class="dropdown-item" style="cursor: pointer" 
                        (click)="openDeleteSpecModal(deleteSpec, specialization)">
                        Delete
                      </a>
                    </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


<ng-template #addSpec let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add new specialization</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="addSpecForm">
      <div class="form-group">
        <label for="">Specialization Name</label>
        <input type="text" class="form-control" formControlName="name">
      </div>
      <div class="form-group">
        <label for="">Swahili Name</label>
        <input type="text" class="form-control" formControlName="swahili">
      </div>
      <div class="form-group">
        <label for="">Image</label>
        <input type="file" class="form-control" (change)="onFileSelect($event)">
      </div>
      <div class="form-group">
        <button class="btn btn-success" (click)="addSpecAction()">
          Add Specialization
        </button>
      </div>
    </form>
  </div>
</ng-template>



<ng-template #updateSpec let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add Update specialization</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="updateSpecForm" (ngSubmit)="updateSpecAction()">
      <div class="form-group">
        <label for="">Specialization Name</label>
        <input type="text" class="form-control" formControlName="name">
      </div>
      <div class="form-group">
        <label for="">Swahili Name</label>
        <input type="text" class="form-control" formControlName="swahili">
      </div>
      <div class="form-group">
        <button class="btn btn-warning" type="submit">
          Update Specialization
        </button>
      </div>
    </form>
  </div>
</ng-template>


<ng-template #deleteSpec let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Delete Specialization</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body text-center">
    <p>
      Are you sure you want to delete this specialization?
    </p>
    <br>
    <button class="btn btn-danger" (click)="deleteSingleSpec()">
      Delete Specialization
    </button>
  </div>
</ng-template>